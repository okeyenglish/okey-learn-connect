

## Исправление "Менеджер поддержки" — показ реального имени сотрудника

### Корневая причина

В файле `src/pages/CRM.tsx` (строка 4394) имя менеджера **захардкожено**:

```typescript
managerName="Менеджер поддержки"
```

Хотя `profile` (с `first_name` и `last_name`) уже доступен в этом же компоненте через `useAuth()` (строка 208).

Внутри `ChatArea.tsx` это значение используется как fallback: `msg.sender_name || managerName`. Если у сообщения в БД нет `sender_name` (старые сообщения), отображается именно этот fallback — "Менеджер поддержки".

### Что будет сделано

**1. `src/pages/CRM.tsx`** — передавать реальное имя из профиля:

Заменить строку 4394:
```typescript
// Было:
managerName="Менеджер поддержки"

// Станет:
managerName={[profile?.first_name, profile?.last_name].filter(Boolean).join(' ') || 'Менеджер поддержки'}
```

Теперь для **старых сообщений** без `sender_name` будет отображаться имя текущего залогиненного пользователя (не идеально, но лучше чем "Менеджер поддержки"). Для **новых сообщений** `sender_name` уже сохраняется в БД при отправке (логика в `ChatArea.tsx` строка 1450-1453).

### Ограничение

Старые сообщения, отправленные **другими** менеджерами до внедрения `sender_name`, будут показывать имя текущего пользователя вместо реального отправителя. Это неизбежно, так как данные не были сохранены. Новые сообщения уже корректно сохраняют `sender_name` в базу.

### Затронутые файлы

- `src/pages/CRM.tsx` — одна строка

