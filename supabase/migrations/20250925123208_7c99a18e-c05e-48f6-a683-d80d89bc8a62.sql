-- Insert sample lessons based on the provided lesson plan
WITH unit_data AS (
  SELECT cu.id as unit_id, cu.unit_number, c.slug 
  FROM public.courses c 
  JOIN public.course_units cu ON c.id = cu.course_id 
  WHERE c.slug = 'super-safari-1'
)
INSERT INTO public.lessons (unit_id, lesson_number, title, objectives, lesson_structure, homework, materials)
SELECT 
  ud.unit_id,
  lessons.lesson_number,
  lessons.title,
  lessons.objectives,
  lessons.lesson_structure,
  lessons.homework,
  lessons.materials
FROM unit_data ud,
LATERAL (VALUES 
  -- Motivational Classes (Unit 0)
  (CASE WHEN ud.unit_number = 0 THEN 1 END, 'Motivational class 1', 
   'использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор пройденного материала; 12 мин – презентация нового материала; 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   '', 'LAN'),
  (CASE WHEN ud.unit_number = 0 THEN 2 END, 'Motivational class 2', 
   'использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор пройденного материала; 12 мин – презентация нового материала; 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   '', 'LAN'),
  
  -- Hello Unit (Unit 1)
  (CASE WHEN ud.unit_number = 1 THEN 1 END, 'PB. Unit "Hello" p 4-5',
   'работать по страницам 4-5, 4 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор пройденного материала; 12 мин – презентация нового материала; 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 4-5', 'PB, LAN'),
  (CASE WHEN ud.unit_number = 1 THEN 2 END, 'PB. Unit "Hello" p 6-7; revision',
   'работать по страницам 6-7, 5 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор пройденного материала; 12 мин – презентация нового материала; 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 6-7', 'PB, LAN'),
   
  -- My Class Unit (Unit 2)
  (CASE WHEN ud.unit_number = 2 THEN 1 END, 'Unit 1: My class - Lesson 1',
   'изучить тему «My class»; работать по страницам 8, 6 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор My class; 12 мин – презентация нового материала (My class); 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 8', 'PB, AB, LAN'),
  (CASE WHEN ud.unit_number = 2 THEN 2 END, 'Unit 1: My class - Lesson 2',
   'изучить тему «My class»; работать по страницам 9, 7 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор My class; 12 мин – презентация нового материала (My class); 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 9', 'PB, AB, LAN'),
   
  -- My Colours Unit (Unit 3)
  (CASE WHEN ud.unit_number = 3 THEN 1 END, 'Unit 2: My colours - Lesson 1',
   'изучить тему «My colours»; работать по страницам 16, 16 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор My colours; 12 мин – презентация нового материала (My colours); 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 16', 'PB, AB, LAN'),
  (CASE WHEN ud.unit_number = 3 THEN 2 END, 'Unit 2: My colours - Lesson 2',
   'изучить тему «My colours»; работать по страницам 17, 17 учебника; использовать материалы: LAN; развивать навыки аудирования; развивать навыки говорения; развивать навыки чтения; развивать навыки письма',
   '4 мин – проверка домашнего задания; 8 мин – разминка, повтор My colours; 12 мин – презентация нового материала (My colours); 15 мин – практика (упражнения по аудированию); 15 мин – коммуникативное задание; 6 мин – подведение итогов и объяснение домашнего задания',
   'AB p 17', 'PB, AB, LAN')
) AS lessons(lesson_number, title, objectives, lesson_structure, homework, materials)
WHERE lessons.lesson_number IS NOT NULL
ON CONFLICT DO NOTHING;